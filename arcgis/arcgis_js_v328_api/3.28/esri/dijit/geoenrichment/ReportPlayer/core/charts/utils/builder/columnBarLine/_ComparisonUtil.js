// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.28/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/builder/columnBarLine/_ComparisonUtil",["dojo/_base/lang","../../ChartTypes","../ChartPlots","../../ChartFilterUtil"],function(g,e,h,f){return{getComparisonPlotName:function(a,b){return b&&b.chartType===e.LINE&&!e.isLineLike(a)?h.SECONDARY:null},isComparisonInPrimaryPlot:function(a,b){return!this.getComparisonPlotName(a,b)},getEffectiveNumberOfSeries:function(a,b,c,d){return this.canShowComparison(c,a,d)?d?a.length:this.isComparisonInPrimaryPlot(b,
c)?2*a.length:a.length:a.length},canShowComparison:function(a,b,c){return a&&(c||1===b.length||2===b.length)},updateSeriesItemsForComparisonInfo:function(a){if(this.canShowComparison(a.comparisonInfo,a.seriesItems,a.isMultiFeatureChart))if(a.isMultiFeatureChart)if(e.isLineLike(a.chartType)){var b=a.seriesItems.slice(),c=f.getFirstSeriesItem(a.seriesItems)||a.seriesItems[0];a.comparisonFeatureAttributes.forEach(function(a){b.push({isComparisonSeries:!0,label:a.StdGeographyName,points:c.points.map(function(b){return{label:b.label,
value:{value:a[b.fieldInfo.name]||0}}})})});a.seriesItemsWithComparison=b}else{var d=a.seriesItems.map(function(a){a=g.mixin({},a);a.points=a.points.slice();return a});a.comparisonFeatureAttributes.forEach(function(a){d.forEach(function(b){var c=f.getFirstSeriesPoint(b)||b.points[0];b.points.push({label:a.StdGeographyName,color:c.color,value:{value:a[c.fieldInfo.name]||0}})})});a.seriesItems=d;delete a.comparisonInfo}else b=[],a.seriesItems.forEach(function(c,d){b.push(c);b.push({isComparisonSeries:!0,
label:a.comparisonFeatureAttributes[0].StdGeographyName+(1<a.seriesItems.length?" ("+c.label+")":""),points:c.points.slice()})}),a.seriesItemsWithComparison=b}}});