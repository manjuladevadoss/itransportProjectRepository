// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.28/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/cleanUp/_ChartJsonCleaner",["../ChartTypes","../../legends/ChartLegendTypes","../../legends/ChartLegendPlacements","./_ChartTypeSupports","../../../supportClasses/templateJsonUtils/fieldInfo/FieldInfoBuilder"],function(e,k,l,g,h){return{cleanUpJson:function(b,m){var d=b.type,c=b.isMultiFeatureChart,f=b.seriesItems.length,a=b.visualProperties;e.isSingleSeries(d)&&1<f&&(f=b.seriesItems.length=1);e.hasBackgroundImage(d)||delete a.backgroundImageData;
e.isConditionalStylingEnabled(d)||delete a.conditionalStyling;e.isSortingEnabled(d,f,c)||delete a.sorting;e.isComparisonEnabled(d,c)<f&&delete b.comparisonInfo;2===f&&b.comparisonInfo&&(a.showColumnBarBackground=!1,a.isStacked=!1);c&&b.comparisonInfo&&(b.comparisonInfo.chartType=d);a.legend&&a.legend.series&&a.legend.type===k.SERIES&&!e.isSeriesLegendEnabled(d,f,c,!!b.comparisonInfo&&a.legend.series.showComparison)&&(a.legend.series.placement=l.NONE);e.isRenderInOppositeDirectionsEnabled(d,f,c)||
delete a.renderColumnBarsInOppositeDirections;e.isStackEnabled(d,f)||(delete a.fillLineArea,delete a.isStacked,a.lineAreaOpacity=1);a.renderColumnBarsInOppositeDirections&&a.isStacked&&(a.renderColumnBarsInOppositeDirections=!0,a.isStacked=!1);if(a.yAxis){if(a.isStacked||a.renderColumnBarsInOppositeDirections)a.yAxis.baseLineValue=0;e.isShowDataAsWeightEnabled(d)||delete a.yAxis.showValuesAsWeightsInSeries}e.isPictureLike(d)?b.seriesItems.forEach(function(a){a.points&&a.points.forEach(function(a){delete a.color})}):
b.seriesItems.forEach(function(a){a.points&&a.points.forEach(function(a){delete a.iconFieldInfo})});e.isSingleSeries(d)&&b.seriesItems.forEach(function(a){delete a.color});d===e.GAUGE&&((c=b.seriesItems[0]&&b.seriesItems[0].points&&b.seriesItems[0].points)&&c.length&&(c.length=Math.min(2,c.length),c[1]&&delete c[1].fieldInfo,(f=c[0].fieldInfo)&&h.isFieldInfoInPercentState(f)&&(delete a.gaugeRangeMin,delete a.gaugeRangeMax)),90<a.gaugeArcPercent&&(a.gaugeShowFromToLabels=!1));d===e.WAFFLE&&(c=b.seriesItems[0]&&
b.seriesItems[0].points&&b.seriesItems[0].points)&&c.length&&(1<c.length&&delete c[c.length-1].fieldInfo,(f=c[0].fieldInfo)&&h.isFieldInfoInPercentState(f)&&(delete a.waffleRangeMin,delete a.waffleRangeMax),1<c.length&&delete c[c.length-1].fieldInfo,2<c.length?delete a.waffleRangeMin:delete a.legend);return g.cleanUpJsonForChartType(b,m)},supportsVisualProperty:function(b,e,d){return g.supportsVisualProperty(b,e,d)}}});