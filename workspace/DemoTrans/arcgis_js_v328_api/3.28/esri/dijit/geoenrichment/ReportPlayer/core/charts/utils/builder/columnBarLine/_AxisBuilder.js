// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See http://js.arcgis.com/3.28/esri/copyright.txt for details.
//>>built
define("esri/dijit/geoenrichment/ReportPlayer/core/charts/utils/builder/columnBarLine/_AxisBuilder","dojo/_base/lang dojox/charting/axis2d/Default ../../ThemeCalculator ../../ChartTypes ../../AxisUtil ../../plots/labelsRendering/LabelsUtil ../../ChartDataLabelsTypes ./_PointLabelUtil".split(" "),function(e,u,n,l,r,x,y,v){return{createXAxis:function(m,b,d,a,c,f){b=b.xAxis;c="OtherSide"!==b.placement;var h=e.mixin({},a.xAxis.axisStyle,a.xAxis.style,b.style),g=e.mixin({},a.xAxis.titleStyle,b.titleStyle);
a=b.lineColor||a.xAxis.lineColor;d=l.isXAxisVertical(d);var k={width:b.show&&!b.hideLine?1:0,color:a},p=b.title,t=n.combineFontString(g),g=g.color,q=b.show&&!b.hideLine&&b.showTicks?5:0;b.ticksInside&&(q*=-1);f={type:u,stroke:k,title:p,titleOrientation:!d&&c?"away":"axis",titleFont:t,titleFontColor:g,vertical:d,leftBottom:c,majorTicks:!0,majorTick:{length:q,color:a},majorTickStep:1,minorTicks:!1,microTicks:!1,minorTickStep:.5,microTickStep:.01,font:n.combineFontString(h),fontColor:h.color,dropLabels:!0,
majorLabels:b.show&&!b.hideLabels,minorLabels:!1,labelFunc:v.getXAxisLabelFunc(f),rotation:-b.labelsAngle||0};return e.mixin(f,m)},createYAxis:function(m,b,d,a,c,f){c=b.yAxis;var h="OtherSide"!==c.placement,g=e.mixin({},a.yAxis.axisStyle,a.yAxis.style,c.style),k=e.mixin({},a.yAxis.titleStyle,c.titleStyle);a=c.lineColor||a.yAxis.lineColor;var p=l.isXAxisVertical(d),t={width:c.show&&!c.hideLine?1:0,color:a},q=c.title,r=n.combineFontString(k),k=k.color,w=c.show&&!c.hideLine&&c.showTicks?5:0;c.ticksInside&&
(w*=-1);b={type:u,fixUpper:"major",includeZero:!0,stroke:t,title:q,titleOrientation:p&&h?"away":"axis",titleFont:r,titleFontColor:k,vertical:!p,leftBottom:h,majorTicks:!0,majorTick:{length:w,color:a},majorTickStep:200,minorTicks:!1,microTicks:!1,minorTickStep:100,microTickStep:10,font:n.combineFontString(g),fontColor:g.color,dropLabels:!0,majorLabels:c.show&&!c.hideLabels,minorLabels:!1,rotation:-c.labelsAngle||0,labelFunc:v.getYAxisLabelFunc(f,b,d)};return e.mixin(b,m)},prettifyYAxis:function(m,
b,d,a,c,f,h,g,k,e){d.removeAxis("y");d.addAxis("y",this.createYAxis(r.getPrettifyYAxisParameters(m,b,{baseLineValue:a.yAxis.baseLineValue,renderColumnBarsInOppositeDirections:l.isColumnBarLike(c)&&1<g.length&&a.renderColumnBarsInOppositeDirections,previewBelowZero:!h.dynamicReportInfo,dataLabelsSize:k&&this._getDataLabelsSize(c,d,a,g),chartSize:e}),a,c,f,h,d))},_getDataLabelsSize:function(e,b,d,a){if(!l.isColumnBarLike(e)||d.dataLabels===y.NONE)return 0;var c=b.getPlot("default"),f=-Infinity;a.forEach(function(a){a.data.forEach(function(a){a=
x.getLabelInfo(c,a,b.theme,{considerAngle:!0,dataLabelsMaxWidth:b.theme.series.dataLabelsMaxWidth});f=Math.max(f,a.box[l.isColumnLike(e)?"h":"w"])})});return f+2*c.opt.labelOffset}}});